<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–û–ø—Ä–æ—Å–Ω–∏–∫ –Ω–∞ –≤—ã–≥–æ—Ä–∞–Ω–∏–µ MBI | –ê–Ω—Ç–∏-–≤—ã–≥–æ—Ä–∞–Ω–∏–µ</title>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º CSS -->
    <link rel="stylesheet" href="/AB/assets/css/style.css">
    <link rel="stylesheet" href="/AB/assets/css/header.css">
    <link rel="stylesheet" href="/AB/assets/css/components.css">
    
    <style>
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–µ—Å—Ç–∞ */
        .test-container {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem auto;
            max-width: 800px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        .progress-bar {
            width: 100%;
            background: #ecf0f1;
            border-radius: 10px;
            margin: 2rem 0;
            height: 12px;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2980b9);
            border-radius: 10px;
            width: 0%;
            transition: width 0.5s ease-in-out;
        }
        
        .question-block {
            display: none;
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 10px;
            background: #f8f9fa;
        }
        
        .question-block.active {
            display: block;
        }
        
        .question-text {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 1.5rem;
        }
        
        .options-container {
            display: grid;
            gap: 0.8rem;
        }
        
        .option-label {
            display: flex;
            align-items: center;
            padding: 1rem;
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .option-label:hover {
            border-color: #3498db;
            background: #e8f4fc;
        }
        
        .option-label input[type="radio"] {
            margin-right: 1rem;
            transform: scale(1.2);
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            gap: 1rem;
        }
        
        .nav-btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .nav-btn.prev {
            background: #6c757d;
            color: white;
        }
        
        .nav-btn.next {
            background: #3498db;
            color: white;
        }
        
        .nav-btn.finish {
            background: #28a745;
            color: white;
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .nav-btn:disabled {
            background: #ced4da;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            display: none;
            border-left: 4px solid #dc3545;
        }
        
        .question-error {
            color: #dc3545;
            font-size: 0.9rem;
            margin-top: 0.5rem;
            display: none;
        }
        
        .result-container {
            display: none;
        }
        
        .scale-result {
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 10px;
            border-left: 5px solid #3498db;
        }
        
        .scale-result.high {
            border-left-color: #e74c3c;
            background: #fdedec;
        }
        
        .scale-result.medium {
            border-left-color: #f39c12;
            background: #fef5e7;
        }
        
        .scale-result.low {
            border-left-color: #2ecc71;
            background: #eafaf1;
        }
        
        .restart-btn {
            background: #17a2b8;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 2rem;
            transition: all 0.3s ease;
        }
        
        .restart-btn:hover {
            background: #138496;
            transform: translateY(-2px);
        }
        
        @media (max-width: 768px) {
            .test-container {
                padding: 1rem;
                margin: 1rem;
            }
            
            .nav-buttons {
                flex-direction: column;
            }
            
            .nav-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>

<header>
    <!-- –í–µ—Ä—Ö–Ω–µ–µ –≤—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é -->
    <div class="header-menu">
        <button class="header-menu-button">‚ò∞ –ú–µ–Ω—é</button>
        <div class="header-dropdown">
            <a href="../index.html"><span>‚≠ê</span> –ì–ª–∞–≤–Ω–∞—è</a>
            <a href="quick-help.html"><span>üöÄ</span> –ü–µ—Ä–≤–∞—è –ø–æ–º–æ—â—å</a>
            <a href="daily.html"><span>üìÖ</span> –ù–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</a>
            <a href="materials.html"><span>üìö</span> –ú–∞—Ç–µ—Ä–∏–∞–ª—ã</a>
            <a href="organizational.html"><span>üè•</span> –î–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</a>
            <a href="emergency.html"><span>üÜò</span> –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å</a>
            <a href="tests.html"><span>üìù</span> –¢–µ—Å—Ç—ã</a>
        </div>
    </div>

    <div class="main-title">
        <span class="stethoscope">ü©∫</span>
        <h1 class="serious-title">
            <a href="../index.html">–î–∞–≤–∞–π —Ç—É—à–∏—Ç—å!</a>
        </h1>
        <span class="stethoscope">ü©∫</span>
    </div>
    <p class="subtitle">–ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–≥–æ—Ä–∞–Ω–∏—è —É –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤</p>
    
    <!-- –ö–Ω–æ–ø–∫–∞ —Ç–µ—Å—Ç–∞ –≤ —à–∞–ø–∫–µ -->
    <div>
        <a href="https://aidarmentalhelp-hub.github.io/mbitest/" target="_blank" class="header-test-btn">
            üîç –ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç –Ω–∞ –≤—ã–≥–æ—Ä–∞–Ω–∏–µ üîç
        </a>
    </div>
</header>

<div class="test-container">
    <div id="intro">
        <h1>–û–ø—Ä–æ—Å–Ω–∏–∫ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –ø—Å–∏—Ö–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–≥–æ—Ä–∞–Ω–∏—è (MBI)</h1>
        <p><strong>–ê–≤—Ç–æ—Ä—ã:</strong> –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–µ –ø—Å–∏—Ö–æ–ª–æ–≥–∏ –ö. –ú–∞—Å–ª–∞—á –∏ –°. –î–∂–µ–∫—Å–æ–Ω. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –ù.–ï. –í–æ–¥–æ–ø—å—è–Ω–æ–≤–æ–π.</p>
        <p>–û—Ç–≤–µ—Ç—å—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∫–∞–∫ —á–∞—Å—Ç–æ –í—ã –∏—Å–ø—ã—Ç—ã–≤–∞–µ—Ç–µ —á—É–≤—Å—Ç–≤–∞, –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –Ω–∏–∂–µ –≤ –æ–ø—Ä–æ—Å–Ω–∏–∫–µ. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ –∫–∞–∂–¥–æ–º—É –ø—É–Ω–∫—Ç—É –ø–æ–∑–∏—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —á–∞—Å—Ç–æ—Ç–µ –í–∞—à–∏—Ö –º—ã—Å–ª–µ–π –∏ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏–π.</p>
        
        <div class="warning-note">
            <strong>‚ö†Ô∏è –í–ê–ñ–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø</strong><br>
            –î–∞–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –ø–æ–º–æ—â—å—é –∏ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —É—Å–ª—É–≥–∏. 
            –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –Ω–æ—Å—è—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ-–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä.<br>
            –û–ø—Ä–æ—Å–Ω–∏–∫ MBI –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–∞–º–æ–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –Ω–µ —Å—Ç–∞–≤–∏—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –¥–∏–∞–≥–Ω–æ–∑–æ–≤. 
            –î–ª—è –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–∏–∞–≥–Ω–æ–∑–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø–æ–º–æ—â–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É.
        </div>
        
        <button id="start-btn" class="nav-btn next">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
    </div>

    <div class="progress-bar">
        <div class="progress" id="progress"></div>
    </div>

    <div class="error-message" id="error-message">
        –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –ø–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —Ç–µ—Å—Ç–∞.
    </div>

    <form id="quiz-form">
        <!-- –í–æ–ø—Ä–æ—Å—ã –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç–æ–º -->
    </form>

    <div id="result" class="result-container">
        <h2>–í–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
        <div id="scale-emotion"></div>
        <div id="scale-deperson"></div>
        <div id="scale-reduction"></div>
        <button id="restart-btn" class="restart-btn">–ü—Ä–æ–π—Ç–∏ –µ—â–µ —Ä–∞–∑</button>
    </div>
</div>

<!-- –§—É—Ç–µ—Ä -->
<footer>
    <div class="footer-content">
        <div class="footer-section">
            <h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
            <div class="footer-links">
                <a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="quick-help.html">–ü–µ—Ä–≤–∞—è –ø–æ–º–æ—â—å</a>
                <a href="daily.html">–ù–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</a>
                <a href="materials.html">–ú–∞—Ç–µ—Ä–∏–∞–ª—ã</a>
                <a href="organizational.html">–î–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</a>
                <a href="emergency.html">–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å</a>
                <a href="tests.html">–¢–µ—Å—Ç—ã</a>
            </div>
        </div>
        
        <div class="footer-section">
            <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
            <div class="contact-info">
                <p>üí¨ –ë—É–¥—É —Ä–∞–¥ –≤–∞—à–µ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏</p>
                <div class="contact-links">
                    <a href="mailto:aidarmentalhelp@gmail.com" class="contact-link">
                        üì© Email
                    </a>
                    <a href="https://t.me/ChiefmacD" target="_blank" class="contact-link">
                        ‚úàÔ∏è Telegram
                    </a>
                    <a href="https://wa.me/79068400712" target="_blank" class="contact-link">
                        üí¨ WhatsApp
                    </a>
                </div>
            </div>
        </div>
        
        <div class="footer-section">
            <h3>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
            <div class="legal-links">
                <a href="privacy.html">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                <a href="terms.html">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</a>
                <a href="consent.html">–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö</a>
                <a href="cookies.html">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ cookies</a>
            </div>
        </div>
    </div>
    
    <div class="footer-bottom">
        <p>¬© 2024 –ê–Ω—Ç–∏-–≤—ã–≥–æ—Ä–∞–Ω–∏–µ. –ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–≥–æ—Ä–∞–Ω–∏—è —É –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤</p>
    </div>
</footer>

<!-- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–µ–Ω—é -->
<div class="floating-menu">
    <button class="menu-button">üìã</button>
    <div class="dropdown-content">
        <a href="../index.html"><span>‚≠ê</span> –ì–ª–∞–≤–Ω–∞—è</a>
        <a href="quick-help.html"><span>üöÄ</span> –ü–µ—Ä–≤–∞—è –ø–æ–º–æ—â—å</a>
        <a href="daily.html"><span>üìÖ</span> –ù–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</a>
        <a href="materials.html"><span>üìö</span> –ú–∞—Ç–µ—Ä–∏–∞–ª—ã</a>
        <a href="organizational.html"><span>üè•</span> –î–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</a>
        <a href="emergency.html"><span>üÜò</span> –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å</a>
        <a href="tests.html"><span>üìù</span> –¢–µ—Å—Ç—ã</a>
    </div>
</div>

<!-- –°–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∞ -->
<script>
    // –ú–∞—Å—Å–∏–≤ —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏
    const questions = [
        "1. –Ø —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –æ–ø—É—Å—Ç–æ—à–µ–Ω–Ω—ã–º",
        "2. –ü–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã —è —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è, –∫–∞–∫ ¬´–≤—ã–∂–∞—Ç—ã–π –ª–∏–º–æ–Ω¬ª",
        "3. –£—Ç—Ä–æ–º —è —á—É–≤—Å—Ç–≤—É—é —É—Å—Ç–∞–ª–æ—Å—Ç—å –∏ –Ω–µ–∂–µ–ª–∞–Ω–∏–µ –∏–¥—Ç–∏ –Ω–∞ —Ä–∞–±–æ—Ç—É",
        "4. –Ø —Ö–æ—Ä–æ—à–æ –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ —á—É–≤—Å—Ç–≤—É—é—Ç –º–æ–∏ –∫–æ–ª–ª–µ–≥–∏, –ø–∞—Ü–∏–µ–Ω—Ç—ã –∏ —Å—Ç–∞—Ä–∞—é—Å—å —É—á–∏—Ç—ã–≤–∞—Ç—å —ç—Ç–æ –≤ –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö –¥–µ–ª–∞",
        "5. –Ø —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ –æ–±—â–∞—é—Å—å —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –∫–æ–ª–ª–µ–≥–∞–º–∏, –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏ –±–µ–∑ —Ç–µ–ø–ª–æ—Ç—ã –∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –∫ –Ω–∏–º",
        "6. –ü–æ—Å–ª–µ —Ä–∞–±–æ—Ç—ã –º–Ω–µ –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è —Ö–æ—á–µ—Ç—Å—è —É–µ–¥–∏–Ω–∏—Ç—å—Å—è",
        "7. –Ø —É–º–µ—é –Ω–∞—Ö–æ–¥–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏—Ö –ø—Ä–∏ –æ–±—â–µ–Ω–∏–∏",
        "8. –Ø —á—É–≤—Å—Ç–≤—É—é —É–≥–Ω–µ—Ç–µ–Ω–Ω–æ—Å—Ç—å –∏ –∞–ø–∞—Ç–∏—é",
        "9. –Ø —É–≤–µ—Ä–µ–Ω–∞, —á—Ç–æ –º–æ—è —Ä–∞–±–æ—Ç–∞ –Ω—É–∂–Ω–∞ –ª—é–¥—è–º",
        "10. –í –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —è —Å—Ç–∞–ª–∞ –±–æ–ª–µ–µ —á–µ—Ä—Å—Ç–≤–æ–π –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫ —Ç–µ–º, —Å –∫–µ–º —è —Ä–∞–±–æ—Ç–∞—é",
        "11. –Ø –∑–∞–º–µ—á–∞—é, —á—Ç–æ –º–æ—è —Ä–∞–±–æ—Ç–∞ –æ–∂–µ—Å—Ç–æ—á–∞–µ—Ç –º–µ–Ω—è",
        "12. –£ –º–µ–Ω—è –º–Ω–æ–≥–æ –ø–ª–∞–Ω–æ–≤ –Ω–∞ –±—É–¥—É—â–µ–µ, –∏ —è –≤–µ—Ä—é –≤ –∏—Ö –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω–∏–µ",
        "13. –ú–æ—è —Ä–∞–±–æ—Ç–∞ –≤—Å–µ –±–æ–ª—å—à–µ –º–µ–Ω—è —Ä–∞–∑–æ—á–∞—Ä–æ–≤—ã–≤–∞–µ—Ç",
        "14. –ú–Ω–µ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ —è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ä–∞–±–æ—Ç–∞—é",
        "15. –ë—ã–≤–∞–µ—Ç, —á—Ç–æ –º–Ω–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –±–µ–∑—Ä–∞–∑–ª–∏—á–Ω–æ —Ç–æ, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –º–æ–∏–º–∏ –ø–æ–¥—á–∏–Ω–µ–Ω–Ω—ã–º–∏/ –≤–æ—Å–ø–∏—Ç–∞–Ω–Ω–∏–∫–∞–º–∏ –∏ –∫–æ–ª–ª–µ–≥–∞–º–∏",
        "16. –ú–Ω–µ —Ö–æ—á–µ—Ç—Å—è —É–µ–¥–∏–Ω–∏—Ç—å—Å—è –∏ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –æ—Ç –≤—Å–µ–≥–æ –∏ –≤—Å–µ—Ö",
        "17. –Ø –ª–µ–≥–∫–æ –º–æ–≥—É —Å–æ–∑–¥–∞—Ç—å –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –¥–æ–±—Ä–æ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞ –≤ –∫–æ–ª–ª–µ–∫—Ç–∏–≤–µ",
        "18. –í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —è —á—É–≤—Å—Ç–≤—É—é –ø—Ä–∏—è—Ç–Ω–æ–µ –æ–∂–∏–≤–ª–µ–Ω–∏–µ",
        "19. –ë–ª–∞–≥–æ–¥–∞—Ä—è —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç–µ —è —É–∂–µ —Å–¥–µ–ª–∞–ª –≤ –∂–∏–∑–Ω–∏ –º–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω–Ω–æ–≥–æ",
        "20. –Ø —á—É–≤—Å—Ç–≤—É—é —Ä–∞–≤–Ω–æ–¥—É—à–∏–µ –∏ –ø–æ—Ç–µ—Ä—é –∏–Ω—Ç–µ—Ä–µ—Å–∞ –∫–æ –º–Ω–æ–≥–æ–º—É, —á—Ç–æ —Ä–∞–¥–æ–≤–∞–ª–æ –º–µ–Ω—è –≤ –º–æ–µ–π —Ä–∞–±–æ—Ç–µ",
        "21. –ù–∞ —Ä–∞–±–æ—Ç–µ —è —Å–ø–æ–∫–æ–π–Ω–æ —Å–ø—Ä–∞–≤–ª—è—é—Å—å —Å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º",
        "22. –í –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –º–Ω–µ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –∫–æ–ª–ª–µ–≥–∏ –∏ –ø–æ–¥—á–∏–Ω–µ–Ω–Ω—ã–µ, –ø–∞—Ü–∏–µ–Ω—Ç—ã –≤—Å–µ —á–∞—â–µ –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞—é—Ç –Ω–∞ –º–µ–Ω—è –≥—Ä—É–∑ —Å–≤–æ–∏—Ö –ø—Ä–æ–±–ª–µ–º –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π."
    ];

    const options = ["–ù–∏–∫–æ–≥–¥–∞", "–û—á–µ–Ω—å —Ä–µ–¥–∫–æ", "–ò–Ω–æ–≥–¥–∞", "–ß–∞—Å—Ç–æ", "–û—á–µ–Ω—å —á–∞—Å—Ç–æ", "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å"];
    
    // –ë–∞–ª–ª—ã –¥–ª—è –ø—Ä—è–º—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (1, 2, 3, 5, 6, 8, 10, 11, 13, 14, 15, 16, 20, 22)
    const directScores = [0, 1, 3, 4, 5, 6];
    
    // –ë–∞–ª–ª—ã –¥–ª—è –æ–±—Ä–∞—Ç–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (4, 7, 9, 12, 17, 18, 19, 21) - –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∫–∞–ª–∞
    const reverseScores = [6, 5, 4, 3, 1, 0];

    const form = document.getElementById('quiz-form');
    const startBtn = document.getElementById('start-btn');
    const restartBtn = document.getElementById('restart-btn');
    const introDiv = document.getElementById('intro');
    const resultDiv = document.getElementById('result');
    const progressBar = document.getElementById('progress');
    const errorMessage = document.getElementById('error-message');

    let currentQuestion = 0;

    // –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    questions.forEach((question, index) => {
        const questionDiv = document.createElement('div');
        questionDiv.className = 'question-block';
        questionDiv.id = `question-${index}`;
        questionDiv.innerHTML = `
            <div class="question-text">${question}</div>
            <div class="question-error" id="error-${index}">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ—Ç–≤–µ—Ç —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å</div>
            <div class="options-container">
        `;
        
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –≤–æ–ø—Ä–æ—Å–∞ (–ø—Ä—è–º–æ–π –∏–ª–∏ –æ–±—Ä–∞—Ç–Ω—ã–π)
        const isReverseQuestion = [4, 7, 9, 12, 17, 18, 19, 21].includes(index + 1);
        const scores = isReverseQuestion ? reverseScores : directScores;
        
        options.forEach((opt, optIndex) => {
            questionDiv.querySelector('.options-container').innerHTML += `
                <label class="option-label">
                    <input type="radio" name="q${index}" value="${scores[optIndex]}" required 
                           onchange="hideError(${index})">
                    ${opt}
                </label>
            `;
        });
        
        // –ö–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" –∏ "–î–∞–ª–µ–µ"
        questionDiv.innerHTML += `
            </div>
            <div class="nav-buttons">
                ${index > 0 ? `<button type="button" class="nav-btn prev" onclick="prevQuestion()">‚Üê –ù–∞–∑–∞–¥</button>` : '<span></span>'}
                ${index < questions.length - 1 ? `<button type="button" class="nav-btn next" onclick="nextQuestion(${index})">–î–∞–ª–µ–µ ‚Üí</button>` : `<button type="button" class="nav-btn finish" onclick="finishTest()">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç</button>`}
            </div>
        `;
        form.appendChild(questionDiv);
    });

    // –ü–æ–∫–∞–∑–∞—Ç—å –≤–æ–ø—Ä–æ—Å
    function showQuestion(index) {
        document.querySelectorAll('.question-block').forEach((q, i) => {
            q.classList.toggle('active', i === index);
        });
        currentQuestion = index;
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
        progressBar.style.width = `${((index + 1) / questions.length) * 100}%`;
        // –°–∫—Ä—ã–≤–∞–µ–º –æ–±—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
        errorMessage.style.display = 'none';
    }

    // –°–∫—Ä—ã—Ç—å –æ—à–∏–±–∫—É –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
    function hideError(questionIndex) {
        document.getElementById(`error-${questionIndex}`).style.display = 'none';
    }

    // –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
    function nextQuestion(currentIndex) {
        const currentQuestionAnswered = document.querySelector(`#question-${currentIndex} input:checked`);
        
        if (!currentQuestionAnswered) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
            document.getElementById(`error-${currentIndex}`).style.display = 'block';
            return;
        }
        
        showQuestion(currentIndex + 1);
    }

    // –ü—Ä–µ–¥—ã–¥—É—â–∏–π –≤–æ–ø—Ä–æ—Å
    function prevQuestion() {
        if (currentQuestion > 0) {
            showQuestion(currentQuestion - 1);
        }
    }

    // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞
    function finishTest() {
        const lastQuestionAnswered = document.querySelector(`#question-${questions.length - 1} input:checked`);
        
        if (!lastQuestionAnswered) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
            document.getElementById(`error-${questions.length - 1}`).style.display = 'block';
            return;
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—Å–µ –ª–∏ –≤–æ–ø—Ä–æ—Å—ã –æ—Ç–≤–µ—á–µ–Ω—ã
        if (!allQuestionsAnswered()) {
            errorMessage.style.display = 'block';
            errorMessage.scrollIntoView({ behavior: 'smooth' });
            return;
        }

        // –ï—Å–ª–∏ –≤—Å–µ –æ—Ç–≤–µ—Ç—ã –µ—Å—Ç—å, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        processResults();
    }

    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤—Å–µ –ª–∏ –≤–æ–ø—Ä–æ—Å—ã –æ—Ç–≤–µ—á–µ–Ω—ã
    function allQuestionsAnswered() {
        for (let i = 0; i < questions.length; i++) {
            const questionAnswered = document.querySelector(`input[name="q${i}"]:checked`);
            if (!questionAnswered) {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–æ–ø—Ä–æ—Å —Å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º
                showQuestion(i);
                document.getElementById(`error-${i}`).style.display = 'block';
                return false;
            }
        }
        return true;
    }

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    function processResults() {
        errorMessage.style.display = 'none';

        const formData = new FormData(form);
        let scores = [];

        for (let i = 0; i < questions.length; i++) {
            scores.push(parseInt(formData.get(`q${i}`)));
        }

        // –ü–æ–¥—Å—á–µ—Ç –±–∞–ª–ª–æ–≤ –ø–æ —à–∫–∞–ª–∞–º
        const emotionQuestions = [1, 2, 3, 6, 8, 13, 14, 16, 20];
        let emotionScore = emotionQuestions.reduce((sum, qIndex) => sum + scores[qIndex - 1], 0);

        const depersonQuestions = [5, 10, 11, 15, 22];
        let depersonScore = depersonQuestions.reduce((sum, qIndex) => sum + scores[qIndex - 1], 0);

        const reductionQuestions = [4, 7, 9, 12, 17, 18, 19, 21];
        let reductionScore = reductionQuestions.reduce((sum, qIndex) => sum + scores[qIndex - 1], 0);

        // –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        function getEmotionInterpretation(score) {
            if (score <= 10) return {level: "–ö—Ä–∞–π–Ω–µ –Ω–∏–∑–∫–∏–π", class: "low"};
            if (score <= 20) return {level: "–ù–∏–∑–∫–∏–π", class: "low"};
            if (score <= 30) return {level: "–°—Ä–µ–¥–Ω–∏–π", class: "medium"};
            if (score <= 40) return {level: "–í—ã—Å–æ–∫–∏–π", class: "high"};
            return {level: "–ö—Ä–∞–π–Ω–µ –≤—ã—Å–æ–∫–∏–π", class: "high"};
        }

        function getDepersonInterpretation(score) {
            if (score <= 5) return {level: "–ö—Ä–∞–π–Ω–µ –Ω–∏–∑–∫–∏–π", class: "low"};
            if (score <= 11) return {level: "–ù–∏–∑–∫–∏–π", class: "low"};
            if (score <= 17) return {level: "–°—Ä–µ–¥–Ω–∏–π", class: "medium"};
            if (score <= 23) return {level: "–í—ã—Å–æ–∫–∏–π", class: "high"};
            return {level: "–ö—Ä–∞–π–Ω–µ –≤—ã—Å–æ–∫–∏–π", class: "high"};
        }

        function getReductionInterpretation(score) {
            if (score <= 8) return {level: "–ö—Ä–∞–π–Ω–µ –Ω–∏–∑–∫–∏–π", class: "low"};
            if (score <= 18) return {level: "–ù–∏–∑–∫–∏–π", class: "low"};
            if (score <= 28) return {level: "–°—Ä–µ–¥–Ω–∏–π", class: "medium"};
            if (score <= 38) return {level: "–í—ã—Å–æ–∫–∏–π", class: "high"};
            return {level: "–ö—Ä–∞–π–Ω–µ –≤—ã—Å–æ–∫–∏–π", class: "high"};
        }

        const emotionResult = getEmotionInterpretation(emotionScore);
        const depersonResult = getDepersonInterpretation(depersonScore);
        const reductionResult = getReductionInterpretation(reductionScore);

        // –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        document.getElementById('scale-emotion').innerHTML = 
            `<div class="scale-result ${emotionResult.class}">
                <strong>–ü—Å–∏—Ö–æ—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∏—Å—Ç–æ—â–µ–Ω–∏–µ:</strong> ${emotionScore} –±–∞–ª–ª–æ–≤ (${emotionResult.level} —É—Ä–æ–≤–µ–Ω—å)<br>
                <em>–ü—Ä–æ—Ü–µ—Å—Å –∏—Å—á–µ—Ä–ø–∞–Ω–∏—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö, —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö, —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤.</em>
            </div>`;

        document.getElementById('scale-deperson').innerHTML = 
            `<div class="scale-result ${depersonResult.class}">
                <strong>–î–µ–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è:</strong> ${depersonScore} –±–∞–ª–ª–æ–≤ (${depersonResult.level} —É—Ä–æ–≤–µ–Ω—å)<br>
                <em>–õ–∏—á–Ω–æ—Å—Ç–Ω–æ–µ –æ—Ç–¥–∞–ª–µ–Ω–∏–µ, –ø—Ä–æ—è–≤–ª—è—é—â–µ–µ—Å—è –≤ —É–º–µ–Ω—å—à–µ–Ω–∏–∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —Ä–∞–∑–¥—Ä–∞–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.</em>
            </div>`;

        document.getElementById('scale-reduction').innerHTML = 
            `<div class="scale-result ${reductionResult.class}">
                <strong>–†–µ–¥—É–∫—Ü–∏—è –ª–∏—á–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π:</strong> ${reductionScore} –±–∞–ª–ª–æ–≤ (${reductionResult.level} —É—Ä–æ–≤–µ–Ω—å)<br>
                <em>–°–Ω–∏–∂–µ–Ω–∏–µ —á—É–≤—Å—Ç–≤–∞ –∫–æ–º–ø–µ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –≤ —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç–µ, –Ω–µ–¥–æ–≤–æ–ª—å—Å—Ç–≤–æ —Å–æ–±–æ–π.</em>
            </div>`;

        form.style.display = 'none';
        resultDiv.style.display = 'block';
        document.querySelector('.progress-bar').style.display = 'none';
    }

    // –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç
    startBtn.addEventListener('click', () => {
        introDiv.style.display = 'none';
        form.style.display = 'block';
        document.querySelector('.progress-bar').style.display = 'block';
        showQuestion(0);
    });

    // –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç
    restartBtn.addEventListener('click', () => {
        resultDiv.style.display = 'none';
        form.reset();
        form.style.display = 'none';
        introDiv.style.display = 'block';
        document.querySelector('.progress-bar').style.display = 'none';
        currentQuestion = 0;
        progressBar.style.width = '0%';
    });

    // –î–µ–ª–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∫–Ω–æ–ø–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    window.showQuestion = showQuestion;
    window.nextQuestion = nextQuestion;
    window.prevQuestion = prevQuestion;
    window.hideError = hideError;
    window.finishTest = finishTest;
</script>

<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ–±—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã -->
<script type="module" src="/AB/assets/js/main.js"></script>

</body>
</html>
